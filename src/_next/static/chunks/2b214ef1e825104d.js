(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7486,e=>{"use strict";let t=(0,e.i(75254).default)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);e.s(["Building2",()=>t],7486)},70065,e=>{"use strict";var t=e.i(43476),a=e.i(47163);function r({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...r})}function s({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...r})}function n({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...r})}function i({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...r})}function l({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...r})}e.s(["Card",()=>r,"CardContent",()=>l,"CardDescription",()=>i,"CardHeader",()=>s,"CardTitle",()=>n])},38036,e=>{"use strict";let t={ACCESS_TOKEN:"accessToken",REFRESH_TOKEN:"refreshToken",EXPIRE_IN:"expireIn",ACCESS_TOKEN_EXPIRE_IN:"accessTokenExpireIn",TOKEN_EXPIRE_TIME:"tokenExpireTime",TENANT_CODE:"tenantCode"},a=()=>{{let e=localStorage.getItem("apiUrl");if(e&&e.trim())return e.trim()}return"http://121.0.0.1:8080"},r=e=>{if("undefined"==typeof document)return null;let t=`; ${document.cookie}`.split(`; ${e}=`);return 2===t.length&&t.pop()?.split(";").shift()||null},s=(e,t,a=7)=>{let r=new Date;r.setTime(r.getTime()+24*a*36e5),document.cookie=`${e}=${t};expires=${r.toUTCString()};path=/`},n=!1,i=[],l=(e,a,r,n)=>{s(t.ACCESS_TOKEN,e),s(t.REFRESH_TOKEN,a),s(t.EXPIRE_IN,r?.toString()||""),s(t.ACCESS_TOKEN_EXPIRE_IN,n?.toString()||"");let i=Date.now()+(n||72e5)-6e4;s(t.TOKEN_EXPIRE_TIME,i.toString())},o=()=>{Object.values(t).forEach(e=>{document.cookie=`${e}=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/`})},d=async()=>{if(n)return new Promise(e=>{i.push(t=>{e(t)})});n=!0;let e=r(t.REFRESH_TOKEN);if(!e)return n=!1,o(),null;try{let s=a(),d=await fetch(`${s}/auth/refresh?refreshToken=${encodeURIComponent(e)}`,{method:"POST"}),c=await d.json();if(200!==c.code||!c.data)return o(),n=!1,null;{let a=c.data.accessToken,s=r(t.REFRESH_TOKEN)||e,o=parseInt(r(t.EXPIRE_IN)||"7200000"),d=parseInt(r(t.ACCESS_TOKEN_EXPIRE_IN)||"7200000");return l(a,s,o,d),i.forEach(e=>e(a)),i=[],n=!1,a}}catch(e){return console.error("刷新Token失败",e),o(),n=!1,null}},c=async(e,s={})=>{let n,i,l=r(t.ACCESS_TOKEN);if((!l||!(i=(n=r(t.TOKEN_EXPIRE_TIME))?parseInt(n):null)||Date.now()>=i-6e4)&&!(l=await d()))throw window.location.href="/login",Error("未登录");let o=a(),c=e.startsWith("http")?e:`${o}${e}`,u={...s,headers:{...s.headers,Authorization:`Bearer ${l}`}},p=await fetch(c,u);if(401===p.status)if(l=await d())u.headers={...s.headers,Authorization:`Bearer ${l}`},p=await fetch(c,u);else throw window.location.href="/login",Error("未登录");return p},u=async()=>{try{let e=await c("/auth/me"),t=await e.json();if(200===t.code&&t.data)return{nickname:t.data.nickname,createTime:t.data.createTime};return null}catch(e){return console.error("获取用户信息失败",e),null}};e.s(["clearTokens",0,o,"fetchWithAuth",0,c,"getApiUrl",0,a,"getCurrentUser",0,u,"isAdminTenant",0,()=>"ADMIN"===r(t.TENANT_CODE),"setTenantCode",0,e=>{s(t.TENANT_CODE,e)},"setTokens",0,l])},98919,e=>{"use strict";let t=(0,e.i(75254).default)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);e.s(["Shield",()=>t],98919)},30374,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(81140),s=e.i(20783),n=e.i(30030),i=e.i(10772),l=e.i(69340),o=e.i(26330),d=e.i(65491),c=e.i(74606),u=e.i(96626),p=e.i(48425),h=e.i(3536),m=e.i(85369),f=e.i(86312),x=e.i(91918),g="Dialog",[v,j]=(0,n.createContextScope)(g),[y,b]=v(g),N=e=>{let{__scopeDialog:r,children:s,open:n,defaultOpen:o,onOpenChange:d,modal:c=!0}=e,u=a.useRef(null),p=a.useRef(null),[h=!1,m]=(0,l.useControllableState)({prop:n,defaultProp:o,onChange:d});return(0,t.jsx)(y,{scope:r,triggerRef:u,contentRef:p,contentId:(0,i.useId)(),titleId:(0,i.useId)(),descriptionId:(0,i.useId)(),open:h,onOpenChange:m,onOpenToggle:a.useCallback(()=>m(e=>!e),[m]),modal:c,children:s})};N.displayName=g;var w="DialogTrigger",C=a.forwardRef((e,a)=>{let{__scopeDialog:n,...i}=e,l=b(w,n),o=(0,s.useComposedRefs)(a,l.triggerRef);return(0,t.jsx)(p.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":B(l.open),...i,ref:o,onClick:(0,r.composeEventHandlers)(e.onClick,l.onOpenToggle)})});C.displayName=w;var E="DialogPortal",[k,T]=v(E,{forceMount:void 0}),I=e=>{let{__scopeDialog:r,forceMount:s,children:n,container:i}=e,l=b(E,r);return(0,t.jsx)(k,{scope:r,forceMount:s,children:a.Children.map(n,e=>(0,t.jsx)(u.Presence,{present:s||l.open,children:(0,t.jsx)(c.Portal,{asChild:!0,container:i,children:e})}))})};I.displayName=E;var D="DialogOverlay",S=a.forwardRef((e,a)=>{let r=T(D,e.__scopeDialog),{forceMount:s=r.forceMount,...n}=e,i=b(D,e.__scopeDialog);return i.modal?(0,t.jsx)(u.Presence,{present:s||i.open,children:(0,t.jsx)(R,{...n,ref:a})}):null});S.displayName=D;var R=a.forwardRef((e,a)=>{let{__scopeDialog:r,...s}=e,n=b(D,r);return(0,t.jsx)(m.RemoveScroll,{as:x.Slot,allowPinchZoom:!0,shards:[n.contentRef],children:(0,t.jsx)(p.Primitive.div,{"data-state":B(n.open),...s,ref:a,style:{pointerEvents:"auto",...s.style}})})}),_="DialogContent",P=a.forwardRef((e,a)=>{let r=T(_,e.__scopeDialog),{forceMount:s=r.forceMount,...n}=e,i=b(_,e.__scopeDialog);return(0,t.jsx)(u.Presence,{present:s||i.open,children:i.modal?(0,t.jsx)(O,{...n,ref:a}):(0,t.jsx)(A,{...n,ref:a})})});P.displayName=_;var O=a.forwardRef((e,n)=>{let i=b(_,e.__scopeDialog),l=a.useRef(null),o=(0,s.useComposedRefs)(n,i.contentRef,l);return a.useEffect(()=>{let e=l.current;if(e)return(0,f.hideOthers)(e)},[]),(0,t.jsx)(M,{...e,ref:o,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,r.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),i.triggerRef.current?.focus()}),onPointerDownOutside:(0,r.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,a=0===t.button&&!0===t.ctrlKey;(2===t.button||a)&&e.preventDefault()}),onFocusOutside:(0,r.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),A=a.forwardRef((e,r)=>{let s=b(_,e.__scopeDialog),n=a.useRef(!1),i=a.useRef(!1);return(0,t.jsx)(M,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(n.current||s.triggerRef.current?.focus(),t.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(n.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));let a=t.target;s.triggerRef.current?.contains(a)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),M=a.forwardRef((e,r)=>{let{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:l,onCloseAutoFocus:c,...u}=e,p=b(_,n),m=a.useRef(null),f=(0,s.useComposedRefs)(r,m);return(0,h.useFocusGuards)(),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.FocusScope,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:l,onUnmountAutoFocus:c,children:(0,t.jsx)(o.DismissableLayer,{role:"dialog",id:p.contentId,"aria-describedby":p.descriptionId,"aria-labelledby":p.titleId,"data-state":B(p.open),...u,ref:f,onDismiss:()=>p.onOpenChange(!1)})}),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(q,{titleId:p.titleId}),(0,t.jsx)(W,{contentRef:m,descriptionId:p.descriptionId})]})]})}),F="DialogTitle",z=a.forwardRef((e,a)=>{let{__scopeDialog:r,...s}=e,n=b(F,r);return(0,t.jsx)(p.Primitive.h2,{id:n.titleId,...s,ref:a})});z.displayName=F;var K="DialogDescription",$=a.forwardRef((e,a)=>{let{__scopeDialog:r,...s}=e,n=b(K,r);return(0,t.jsx)(p.Primitive.p,{id:n.descriptionId,...s,ref:a})});$.displayName=K;var H="DialogClose",U=a.forwardRef((e,a)=>{let{__scopeDialog:s,...n}=e,i=b(H,s);return(0,t.jsx)(p.Primitive.button,{type:"button",...n,ref:a,onClick:(0,r.composeEventHandlers)(e.onClick,()=>i.onOpenChange(!1))})});function B(e){return e?"open":"closed"}U.displayName=H;var X="DialogTitleWarning",[L,V]=(0,n.createContext)(X,{contentName:_,titleName:F,docsSlug:"dialog"}),q=({titleId:e})=>{let t=V(X),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return a.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},W=({contentRef:e,descriptionId:t})=>{let r=V("DialogDescriptionWarning"),s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${r.contentName}}.`;return a.useEffect(()=>{let a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null};let J=(0,e.i(75254).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var Z=e.i(47163);function G({...e}){return(0,t.jsx)(N,{"data-slot":"dialog",...e})}function Q({...e}){return(0,t.jsx)(C,{"data-slot":"dialog-trigger",...e})}function Y({...e}){return(0,t.jsx)(I,{"data-slot":"dialog-portal",...e})}function ee({className:e,...a}){return(0,t.jsx)(S,{"data-slot":"dialog-overlay",className:(0,Z.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...a})}function et({className:e,children:a,showCloseButton:r=!0,...s}){return(0,t.jsxs)(Y,{"data-slot":"dialog-portal",children:[(0,t.jsx)(ee,{}),(0,t.jsxs)(P,{"data-slot":"dialog-content",className:(0,Z.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...s,children:[a,r&&(0,t.jsxs)(U,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(J,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function ea({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,Z.cn)("flex flex-col gap-2 text-center sm:text-left",e),...a})}function er({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"dialog-footer",className:(0,Z.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...a})}function es({className:e,...a}){return(0,t.jsx)(z,{"data-slot":"dialog-title",className:(0,Z.cn)("text-lg leading-none font-semibold",e),...a})}function en({className:e,...a}){return(0,t.jsx)($,{"data-slot":"dialog-description",className:(0,Z.cn)("text-muted-foreground text-sm",e),...a})}e.s(["Dialog",()=>G,"DialogContent",()=>et,"DialogDescription",()=>en,"DialogFooter",()=>er,"DialogHeader",()=>ea,"DialogTitle",()=>es,"DialogTrigger",()=>Q],30374)},86536,e=>{"use strict";let t=(0,e.i(75254).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],86536)},39616,e=>{"use strict";let t=(0,e.i(75254).default)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Settings",()=>t],39616)},89954,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(18566),s=e.i(98919),n=e.i(86536),i=e.i(75254);let l=(0,i.default)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var o=e.i(7486);let d=(0,i.default)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var c=e.i(84614);let u=(0,i.default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var p=e.i(39616),h=e.i(67881),m=e.i(23750),f=e.i(30374),x=e.i(10708),g=e.i(70065),v=e.i(62870),j=e.i(20783),y=e.i(30030),b=e.i(81140),N=e.i(69340),w=e.i(99682),C=e.i(35804),E=e.i(96626),k=e.i(48425),T="Checkbox",[I,D]=(0,y.createContextScope)(T),[S,R]=I(T),_=a.forwardRef((e,r)=>{let{__scopeCheckbox:s,name:n,checked:i,defaultChecked:l,required:o,disabled:d,value:c="on",onCheckedChange:u,form:p,...h}=e,[m,f]=a.useState(null),x=(0,j.useComposedRefs)(r,e=>f(e)),g=a.useRef(!1),v=!m||p||!!m.closest("form"),[y=!1,w]=(0,N.useControllableState)({prop:i,defaultProp:l,onChange:u}),C=a.useRef(y);return a.useEffect(()=>{let e=m?.form;if(e){let t=()=>w(C.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[m,w]),(0,t.jsxs)(S,{scope:s,state:y,disabled:d,children:[(0,t.jsx)(k.Primitive.button,{type:"button",role:"checkbox","aria-checked":M(y)?"mixed":y,"aria-required":o,"data-state":F(y),"data-disabled":d?"":void 0,disabled:d,value:c,...h,ref:x,onKeyDown:(0,b.composeEventHandlers)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,b.composeEventHandlers)(e.onClick,e=>{w(e=>!!M(e)||!e),v&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())})}),v&&(0,t.jsx)(A,{control:m,bubbles:!g.current,name:n,value:c,checked:y,required:o,disabled:d,form:p,style:{transform:"translateX(-100%)"},defaultChecked:!M(l)&&l})]})});_.displayName=T;var P="CheckboxIndicator",O=a.forwardRef((e,a)=>{let{__scopeCheckbox:r,forceMount:s,...n}=e,i=R(P,r);return(0,t.jsx)(E.Presence,{present:s||M(i.state)||!0===i.state,children:(0,t.jsx)(k.Primitive.span,{"data-state":F(i.state),"data-disabled":i.disabled?"":void 0,...n,ref:a,style:{pointerEvents:"none",...e.style}})})});O.displayName=P;var A=e=>{let{control:r,checked:s,bubbles:n=!0,defaultChecked:i,...l}=e,o=a.useRef(null),d=(0,w.usePrevious)(s),c=(0,C.useSize)(r);a.useEffect(()=>{let e=o.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(d!==s&&t){let a=new Event("click",{bubbles:n});e.indeterminate=M(s),t.call(e,!M(s)&&s),e.dispatchEvent(a)}},[d,s,n]);let u=a.useRef(!M(s)&&s);return(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??u.current,...l,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function M(e){return"indeterminate"===e}function F(e){return M(e)?"indeterminate":e?"checked":"unchecked"}var z=e.i(78784),K=e.i(47163);function $({className:e,...a}){return(0,t.jsx)(_,{"data-slot":"checkbox",className:(0,K.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...a,children:(0,t.jsx)(O,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,t.jsx)(z.CheckIcon,{className:"size-3.5"})})})}var H=e.i(93539),U=e.i(38036);let B=[{id:"ADMIN",name:"管理员租户"},{id:"tencent",name:"腾讯科技"},{id:"bytedance",name:"字节跳动"},{id:"huawei",name:"华为技术"}];function X(){let e=(0,r.useRouter)(),[i,j]=(0,a.useState)(!1),[y,b]=(0,a.useState)(!1),[N,w]=(0,a.useState)(!1),[C,E]=(0,a.useState)(""),[k,T]=(0,a.useState)(""),[I,D]=(0,a.useState)(""),[S,R]=(0,a.useState)({tenant:"",username:"",password:"",captcha:"",rememberMe:!1});(0,a.useEffect)(()=>{let e=localStorage.getItem("apiUrl");e&&E(e)},[]);let _=async()=>{try{let e=(0,U.getApiUrl)(),t=await fetch(`${e}/auth/captcha`),a=await t.json();if(200===a.code&&a.data){T(a.data.uuid);let e=a.data.image;e&&!e.startsWith("data:image")&&(e="data:image/png;base64,"+e),D(e),R({...S,captcha:""})}}catch(e){console.error("获取验证码失败",e)}};(0,a.useEffect)(()=>{_()},[]);let P=async t=>{t.preventDefault(),b(!0);try{let t=crypto.randomUUID(),a=Date.now(),r=(0,U.getApiUrl)(),s=await fetch(`${r}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json","X-Nonce":t,"X-Timestamp":a.toString()},body:JSON.stringify({username:S.username,password:S.password,tenantCode:S.tenant,captchaKey:k,captchaCode:S.captcha})}),n=await s.json();if(200===n.code&&n.data){let{accessToken:t,refreshToken:a,expireIn:r,accessTokenExpireIn:s}=n.data;(0,U.setTokens)(t,a,r,s),(0,U.setTenantCode)(S.tenant),e.push("/dashboard")}else alert(n.message||"登录失败"),_()}catch(e){console.error("登录失败",e),alert("登录失败，请重试"),_()}finally{b(!1)}};return(0,t.jsxs)("div",{className:"min-h-screen flex",children:[(0,t.jsxs)("div",{className:"hidden lg:flex lg:w-1/2 bg-primary relative overflow-hidden",children:[(0,t.jsxs)("div",{className:"absolute inset-0 opacity-10",children:[(0,t.jsx)("div",{className:"absolute top-20 left-20 w-72 h-72 rounded-full border-2 border-primary-foreground"}),(0,t.jsx)("div",{className:"absolute bottom-32 right-10 w-96 h-96 rounded-full border-2 border-primary-foreground"}),(0,t.jsx)("div",{className:"absolute top-1/2 left-1/3 w-48 h-48 rounded-full border-2 border-primary-foreground"})]}),(0,t.jsxs)("div",{className:"relative z-10 flex flex-col justify-between p-12 text-primary-foreground",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-primary-foreground/20 backdrop-blur",children:(0,t.jsx)(s.Shield,{className:"h-7 w-7"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-bold",children:"AuthCenter"}),(0,t.jsx)("p",{className:"text-sm opacity-80",children:"多租户鉴权中心"})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("h2",{className:"text-4xl font-bold leading-tight text-balance",children:["企业级多租户",(0,t.jsx)("br",{}),"身份认证平台"]}),(0,t.jsx)("p",{className:"text-lg opacity-90 max-w-md leading-relaxed",children:"统一管理多租户用户、角色和权限，提供安全可靠的身份认证与访问控制服务。"}),(0,t.jsx)("div",{className:"space-y-4 pt-4",children:["多租户隔离，数据安全有保障","细粒度权限控制，灵活配置","完整的操作日志审计追踪"].map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-primary-foreground/20",children:(0,t.jsx)(u,{className:"h-3.5 w-3.5"})}),(0,t.jsx)("span",{className:"text-sm",children:e})]},a))})]}),(0,t.jsx)("p",{className:"text-sm opacity-60",children:"© 2026 AuthCenter. All rights reserved."})]})]}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col bg-background",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 lg:hidden",children:[(0,t.jsx)(s.Shield,{className:"h-6 w-6 text-primary"}),(0,t.jsx)("span",{className:"font-semibold",children:"AuthCenter"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(h.Button,{variant:"ghost",size:"sm",onClick:()=>w(!0),children:[(0,t.jsx)(p.Settings,{className:"w-4 h-4 mr-2"}),"配置后端"]}),(0,t.jsx)(H.ThemeToggle,{})]})]}),(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center p-6",children:(0,t.jsxs)(g.Card,{className:"w-full max-w-md border-0 shadow-none lg:border lg:shadow-sm",children:[(0,t.jsxs)(g.CardHeader,{className:"space-y-1 pb-6",children:[(0,t.jsx)(g.CardTitle,{className:"text-2xl font-bold",children:"登录"}),(0,t.jsx)(g.CardDescription,{children:"选择租户并输入您的账号信息"})]}),(0,t.jsxs)(g.CardContent,{children:[(0,t.jsxs)("form",{onSubmit:P,className:"space-y-5",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x.Label,{htmlFor:"tenant",children:"租户"}),(0,t.jsxs)(v.Select,{value:S.tenant,onValueChange:e=>R({...S,tenant:e}),children:[(0,t.jsxs)(v.SelectTrigger,{id:"tenant",className:"h-11",children:[(0,t.jsx)(o.Building2,{className:"h-4 w-4 text-muted-foreground mr-2"}),(0,t.jsx)(v.SelectValue,{placeholder:"请选择租户"})]}),(0,t.jsx)(v.SelectContent,{children:B.map(e=>(0,t.jsx)(v.SelectItem,{value:e.id,children:e.name},e.id))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x.Label,{htmlFor:"username",children:"用户名"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(c.User,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(m.Input,{id:"username",placeholder:"请输入用户名",className:"h-11 pl-10",value:S.username,onChange:e=>R({...S,username:e.target.value})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(x.Label,{htmlFor:"password",children:"密码"}),(0,t.jsx)("button",{type:"button",className:"text-xs text-primary hover:underline",children:"忘记密码?"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(d,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(m.Input,{id:"password",type:i?"text":"password",placeholder:"请输入密码",className:"h-11 pl-10 pr-10",value:S.password,onChange:e=>R({...S,password:e.target.value})}),(0,t.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",onClick:()=>j(!i),children:i?(0,t.jsx)(l,{className:"h-4 w-4"}):(0,t.jsx)(n.Eye,{className:"h-4 w-4"})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x.Label,{htmlFor:"captcha",children:"验证码"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("div",{className:"relative flex-1",children:(0,t.jsx)(m.Input,{id:"captcha",placeholder:"请输入验证码",className:"h-11",value:S.captcha,onChange:e=>R({...S,captcha:e.target.value})})}),(0,t.jsx)("div",{className:"relative h-11 w-32 rounded-md border border-input overflow-hidden bg-muted",children:I?(0,t.jsx)("img",{src:I,alt:"验证码",className:"h-full w-full object-cover cursor-pointer",onClick:_,title:"点击刷新验证码"}):(0,t.jsx)("div",{className:"flex h-full w-full items-center justify-center text-xs text-muted-foreground",children:"加载中..."})})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)($,{id:"remember",checked:S.rememberMe,onCheckedChange:e=>R({...S,rememberMe:e})}),(0,t.jsx)(x.Label,{htmlFor:"remember",className:"text-sm font-normal cursor-pointer",children:"记住我的登录状态"})]}),(0,t.jsx)(h.Button,{type:"submit",className:"w-full h-11",disabled:y||!S.tenant||!S.username||!S.password||!S.captcha,children:y?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}),"登录中..."]}):"登录"})]}),(0,t.jsx)("div",{className:"mt-6 text-center text-sm text-muted-foreground",children:(0,t.jsxs)("p",{children:["登录即表示您同意我们的 ",(0,t.jsx)("button",{className:"text-primary hover:underline",children:"服务条款"})," 和"," ",(0,t.jsx)("button",{className:"text-primary hover:underline",children:"隐私政策"})]})})]})]})}),(0,t.jsx)("div",{className:"p-6 text-center text-sm text-muted-foreground lg:hidden",children:"© 2026 AuthCenter. All rights reserved."})]}),(0,t.jsx)(f.Dialog,{open:N,onOpenChange:w,children:(0,t.jsxs)(f.DialogContent,{className:"sm:max-w-md",children:[(0,t.jsxs)(f.DialogHeader,{children:[(0,t.jsx)(f.DialogTitle,{children:"配置后端地址"}),(0,t.jsx)(f.DialogDescription,{children:"设置后端 API 服务地址"})]}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(x.Label,{htmlFor:"apiUrl",children:"后端 API 地址"}),(0,t.jsx)(m.Input,{id:"apiUrl",placeholder:"http://localhost:8080",value:C,onChange:e=>E(e.target.value),className:"bg-card border-border"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"配置后端服务地址，格式如：http://localhost:8080"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(h.Button,{onClick:()=>{C.trim()&&(localStorage.setItem("apiUrl",C.trim()),w(!1),_())},children:"保存配置"}),(0,t.jsx)(h.Button,{variant:"outline",onClick:()=>w(!1),children:"取消"})]})]})]})})]})}e.s(["default",()=>X],89954)}]);