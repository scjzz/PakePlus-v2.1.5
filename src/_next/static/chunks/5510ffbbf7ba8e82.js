(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,41071,e=>{"use strict";let t=(0,e.i(75254).default)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);e.s(["MoreHorizontal",()=>t],41071)},88699,e=>{"use strict";let t=(0,e.i(75254).default)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);e.s(["Pencil",()=>t],88699)},43531,e=>{"use strict";var t=e.i(78745);e.s(["Check",()=>t.default])},3116,e=>{"use strict";let t=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],3116)},52917,e=>{"use strict";var t=e.i(43476),r=e.i(26999),s=e.i(95926),a=e.i(47163);function l({...e}){return(0,t.jsx)(r.Root,{"data-slot":"sheet",...e})}function n({...e}){return(0,t.jsx)(r.Trigger,{"data-slot":"sheet-trigger",...e})}function o({...e}){return(0,t.jsx)(r.Portal,{"data-slot":"sheet-portal",...e})}function i({className:e,...s}){return(0,t.jsx)(r.Overlay,{"data-slot":"sheet-overlay",className:(0,a.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...s})}function d({className:e,children:l,side:n="right",...d}){return(0,t.jsxs)(o,{children:[(0,t.jsx)(i,{}),(0,t.jsxs)(r.Content,{"data-slot":"sheet-content",className:(0,a.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===n&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===n&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===n&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===n&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...d,children:[l,(0,t.jsxs)(r.Close,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,t.jsx)(s.XIcon,{className:"size-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function c({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"sheet-header",className:(0,a.cn)("flex flex-col gap-1.5 p-4",e),...r})}function u({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"sheet-footer",className:(0,a.cn)("mt-auto flex flex-col gap-2 p-4",e),...r})}function m({className:e,...s}){return(0,t.jsx)(r.Title,{"data-slot":"sheet-title",className:(0,a.cn)("text-foreground font-semibold",e),...s})}function h({className:e,...s}){return(0,t.jsx)(r.Description,{"data-slot":"sheet-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...s})}e.s(["Sheet",()=>l,"SheetContent",()=>d,"SheetDescription",()=>h,"SheetFooter",()=>u,"SheetHeader",()=>c,"SheetTitle",()=>m,"SheetTrigger",()=>n])},47627,e=>{"use strict";var t=e.i(43476),r=e.i(47163);function s({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:(0,r.cn)("w-full caption-bottom text-sm",e),...s})})}function a({className:e,...s}){return(0,t.jsx)("thead",{"data-slot":"table-header",className:(0,r.cn)("[&_tr]:border-b",e),...s})}function l({className:e,...s}){return(0,t.jsx)("tbody",{"data-slot":"table-body",className:(0,r.cn)("[&_tr:last-child]:border-0",e),...s})}function n({className:e,...s}){return(0,t.jsx)("tr",{"data-slot":"table-row",className:(0,r.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...s})}function o({className:e,...s}){return(0,t.jsx)("th",{"data-slot":"table-head",className:(0,r.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s})}function i({className:e,...s}){return(0,t.jsx)("td",{"data-slot":"table-cell",className:(0,r.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s})}e.s(["Table",()=>s,"TableBody",()=>l,"TableCell",()=>i,"TableHead",()=>o,"TableHeader",()=>a,"TableRow",()=>n])},86536,e=>{"use strict";let t=(0,e.i(75254).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],86536)},71435,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(48425),a=e.i(96626),l=e.i(30030),n=e.i(20783),o=e.i(30207),i=e.i(86318),d=e.i(34620),c=e.i(70152),u=e.i(81140),m="ScrollArea",[h,x]=(0,l.createContextScope)(m),[p,f]=h(m),g=r.forwardRef((e,a)=>{let{__scopeScrollArea:l,type:o="hover",dir:d,scrollHideDelay:c=600,...u}=e,[m,h]=r.useState(null),[x,f]=r.useState(null),[g,b]=r.useState(null),[v,j]=r.useState(null),[w,N]=r.useState(null),[y,S]=r.useState(0),[C,k]=r.useState(0),[T,R]=r.useState(!1),[E,L]=r.useState(!1),I=(0,n.useComposedRefs)(a,e=>h(e)),P=(0,i.useDirection)(d);return(0,t.jsx)(p,{scope:l,type:o,dir:P,scrollHideDelay:c,scrollArea:m,viewport:x,onViewportChange:f,content:g,onContentChange:b,scrollbarX:v,onScrollbarXChange:j,scrollbarXEnabled:T,onScrollbarXEnabledChange:R,scrollbarY:w,onScrollbarYChange:N,scrollbarYEnabled:E,onScrollbarYEnabledChange:L,onCornerWidthChange:S,onCornerHeightChange:k,children:(0,t.jsx)(s.Primitive.div,{dir:P,...u,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":C+"px",...e.style}})})});g.displayName=m;var b="ScrollAreaViewport",v=r.forwardRef((e,a)=>{let{__scopeScrollArea:l,children:o,nonce:i,...d}=e,c=f(b,l),u=r.useRef(null),m=(0,n.useComposedRefs)(a,u,c.onViewportChange);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),(0,t.jsx)(s.Primitive.div,{"data-radix-scroll-area-viewport":"",...d,ref:m,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:(0,t.jsx)("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:o})})]})});v.displayName=b;var j="ScrollAreaScrollbar",w=r.forwardRef((e,s)=>{let{forceMount:a,...l}=e,n=f(j,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=n,d="horizontal"===e.orientation;return r.useEffect(()=>(d?o(!0):i(!0),()=>{d?o(!1):i(!1)}),[d,o,i]),"hover"===n.type?(0,t.jsx)(N,{...l,ref:s,forceMount:a}):"scroll"===n.type?(0,t.jsx)(y,{...l,ref:s,forceMount:a}):"auto"===n.type?(0,t.jsx)(S,{...l,ref:s,forceMount:a}):"always"===n.type?(0,t.jsx)(C,{...l,ref:s}):null});w.displayName=j;var N=r.forwardRef((e,s)=>{let{forceMount:l,...n}=e,o=f(j,e.__scopeScrollArea),[i,d]=r.useState(!1);return r.useEffect(()=>{let e=o.scrollArea,t=0;if(e){let r=()=>{window.clearTimeout(t),d(!0)},s=()=>{t=window.setTimeout(()=>d(!1),o.scrollHideDelay)};return e.addEventListener("pointerenter",r),e.addEventListener("pointerleave",s),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",r),e.removeEventListener("pointerleave",s)}}},[o.scrollArea,o.scrollHideDelay]),(0,t.jsx)(a.Presence,{present:l||i,children:(0,t.jsx)(S,{"data-state":i?"visible":"hidden",...n,ref:s})})}),y=r.forwardRef((e,s)=>{var l;let{forceMount:n,...o}=e,i=f(j,e.__scopeScrollArea),d="horizontal"===e.orientation,c=U(()=>h("SCROLL_END"),100),[m,h]=(l={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},r.useReducer((e,t)=>l[e][t]??e,"hidden"));return r.useEffect(()=>{if("idle"===m){let e=window.setTimeout(()=>h("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(e)}},[m,i.scrollHideDelay,h]),r.useEffect(()=>{let e=i.viewport,t=d?"scrollLeft":"scrollTop";if(e){let r=e[t],s=()=>{let s=e[t];r!==s&&(h("SCROLL"),c()),r=s};return e.addEventListener("scroll",s),()=>e.removeEventListener("scroll",s)}},[i.viewport,d,h,c]),(0,t.jsx)(a.Presence,{present:n||"hidden"!==m,children:(0,t.jsx)(C,{"data-state":"hidden"===m?"hidden":"visible",...o,ref:s,onPointerEnter:(0,u.composeEventHandlers)(e.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:(0,u.composeEventHandlers)(e.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),S=r.forwardRef((e,s)=>{let l=f(j,e.__scopeScrollArea),{forceMount:n,...o}=e,[i,d]=r.useState(!1),c="horizontal"===e.orientation,u=U(()=>{if(l.viewport){let e=l.viewport.offsetWidth<l.viewport.scrollWidth,t=l.viewport.offsetHeight<l.viewport.scrollHeight;d(c?e:t)}},10);return X(l.viewport,u),X(l.content,u),(0,t.jsx)(a.Presence,{present:n||i,children:(0,t.jsx)(C,{"data-state":i?"visible":"hidden",...o,ref:s})})}),C=r.forwardRef((e,s)=>{let{orientation:a="vertical",...l}=e,n=f(j,e.__scopeScrollArea),o=r.useRef(null),i=r.useRef(0),[d,c]=r.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=B(d.viewport,d.content),m={...l,sizes:d,onSizesChange:c,hasThumb:!!(u>0&&u<1),onThumbChange:e=>o.current=e,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:e=>i.current=e};function h(e,t){return function(e,t,r,s="ltr"){let a=W(r),l=t||a/2,n=r.scrollbar.paddingStart+l,o=r.scrollbar.size-r.scrollbar.paddingEnd-(a-l),i=r.content-r.viewport;return O([n,o],"ltr"===s?[0,i]:[-1*i,0])(e)}(e,i.current,d,t)}return"horizontal"===a?(0,t.jsx)(k,{...m,ref:s,onThumbPositionChange:()=>{if(n.viewport&&o.current){let e=F(n.viewport.scrollLeft,d,n.dir);o.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{n.viewport&&(n.viewport.scrollLeft=e)},onDragScroll:e=>{n.viewport&&(n.viewport.scrollLeft=h(e,n.dir))}}):"vertical"===a?(0,t.jsx)(T,{...m,ref:s,onThumbPositionChange:()=>{if(n.viewport&&o.current){let e=F(n.viewport.scrollTop,d);o.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{n.viewport&&(n.viewport.scrollTop=e)},onDragScroll:e=>{n.viewport&&(n.viewport.scrollTop=h(e))}}):null}),k=r.forwardRef((e,s)=>{let{sizes:a,onSizesChange:l,...o}=e,i=f(j,e.__scopeScrollArea),[d,c]=r.useState(),u=r.useRef(null),m=(0,n.useComposedRefs)(s,u,i.onScrollbarXChange);return r.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),(0,t.jsx)(L,{"data-orientation":"horizontal",...o,ref:m,sizes:a,style:{bottom:0,left:"rtl"===i.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===i.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":W(a)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,r)=>{if(i.viewport){var s,a;let l=i.viewport.scrollLeft+t.deltaX;e.onWheelScroll(l),s=l,a=r,s>0&&s<a&&t.preventDefault()}},onResize:()=>{u.current&&i.viewport&&d&&l({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:_(d.paddingLeft),paddingEnd:_(d.paddingRight)}})}})}),T=r.forwardRef((e,s)=>{let{sizes:a,onSizesChange:l,...o}=e,i=f(j,e.__scopeScrollArea),[d,c]=r.useState(),u=r.useRef(null),m=(0,n.useComposedRefs)(s,u,i.onScrollbarYChange);return r.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),(0,t.jsx)(L,{"data-orientation":"vertical",...o,ref:m,sizes:a,style:{top:0,right:"ltr"===i.dir?0:void 0,left:"rtl"===i.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":W(a)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,r)=>{if(i.viewport){var s,a;let l=i.viewport.scrollTop+t.deltaY;e.onWheelScroll(l),s=l,a=r,s>0&&s<a&&t.preventDefault()}},onResize:()=>{u.current&&i.viewport&&d&&l({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:_(d.paddingTop),paddingEnd:_(d.paddingBottom)}})}})}),[R,E]=h(j),L=r.forwardRef((e,a)=>{let{__scopeScrollArea:l,sizes:i,hasThumb:d,onThumbChange:c,onThumbPointerUp:m,onThumbPointerDown:h,onThumbPositionChange:x,onDragScroll:p,onWheelScroll:g,onResize:b,...v}=e,w=f(j,l),[N,y]=r.useState(null),S=(0,n.useComposedRefs)(a,e=>y(e)),C=r.useRef(null),k=r.useRef(""),T=w.viewport,E=i.content-i.viewport,L=(0,o.useCallbackRef)(g),I=(0,o.useCallbackRef)(x),P=U(b,10);function D(e){C.current&&p({x:e.clientX-C.current.left,y:e.clientY-C.current.top})}return r.useEffect(()=>{let e=e=>{let t=e.target;N?.contains(t)&&L(e,E)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[T,N,E,L]),r.useEffect(I,[i,I]),X(N,P),X(w.content,P),(0,t.jsx)(R,{scope:l,scrollbar:N,hasThumb:d,onThumbChange:(0,o.useCallbackRef)(c),onThumbPointerUp:(0,o.useCallbackRef)(m),onThumbPositionChange:I,onThumbPointerDown:(0,o.useCallbackRef)(h),children:(0,t.jsx)(s.Primitive.div,{...v,ref:S,style:{position:"absolute",...v.style},onPointerDown:(0,u.composeEventHandlers)(e.onPointerDown,e=>{0===e.button&&(e.target.setPointerCapture(e.pointerId),C.current=N.getBoundingClientRect(),k.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",w.viewport&&(w.viewport.style.scrollBehavior="auto"),D(e))}),onPointerMove:(0,u.composeEventHandlers)(e.onPointerMove,D),onPointerUp:(0,u.composeEventHandlers)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=k.current,w.viewport&&(w.viewport.style.scrollBehavior=""),C.current=null})})})}),I="ScrollAreaThumb",P=r.forwardRef((e,r)=>{let{forceMount:s,...l}=e,n=E(I,e.__scopeScrollArea);return(0,t.jsx)(a.Presence,{present:s||n.hasThumb,children:(0,t.jsx)(D,{ref:r,...l})})}),D=r.forwardRef((e,a)=>{let{__scopeScrollArea:l,style:o,...i}=e,d=f(I,l),c=E(I,l),{onThumbPositionChange:m}=c,h=(0,n.useComposedRefs)(a,e=>c.onThumbChange(e)),x=r.useRef(void 0),p=U(()=>{x.current&&(x.current(),x.current=void 0)},100);return r.useEffect(()=>{let e=d.viewport;if(e){let t=()=>{p(),x.current||(x.current=M(e,m),m())};return m(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[d.viewport,p,m]),(0,t.jsx)(s.Primitive.div,{"data-state":c.hasThumb?"visible":"hidden",...i,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...o},onPointerDownCapture:(0,u.composeEventHandlers)(e.onPointerDownCapture,e=>{let t=e.target.getBoundingClientRect(),r=e.clientX-t.left,s=e.clientY-t.top;c.onThumbPointerDown({x:r,y:s})}),onPointerUp:(0,u.composeEventHandlers)(e.onPointerUp,c.onThumbPointerUp)})});P.displayName=I;var A="ScrollAreaCorner",z=r.forwardRef((e,r)=>{let s=f(A,e.__scopeScrollArea),a=!!(s.scrollbarX&&s.scrollbarY);return"scroll"!==s.type&&a?(0,t.jsx)(H,{...e,ref:r}):null});z.displayName=A;var H=r.forwardRef((e,a)=>{let{__scopeScrollArea:l,...n}=e,o=f(A,l),[i,d]=r.useState(0),[c,u]=r.useState(0),m=!!(i&&c);return X(o.scrollbarX,()=>{let e=o.scrollbarX?.offsetHeight||0;o.onCornerHeightChange(e),u(e)}),X(o.scrollbarY,()=>{let e=o.scrollbarY?.offsetWidth||0;o.onCornerWidthChange(e),d(e)}),m?(0,t.jsx)(s.Primitive.div,{...n,ref:a,style:{width:i,height:c,position:"absolute",right:"ltr"===o.dir?0:void 0,left:"rtl"===o.dir?0:void 0,bottom:0,...e.style}}):null});function _(e){return e?parseInt(e,10):0}function B(e,t){let r=e/t;return isNaN(r)?0:r}function W(e){let t=B(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd;return Math.max((e.scrollbar.size-r)*t,18)}function F(e,t,r="ltr"){let s=W(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,l=t.scrollbar.size-a,n=t.content-t.viewport,o=(0,c.clamp)(e,"ltr"===r?[0,n]:[-1*n,0]);return O([0,n],[0,l-s])(o)}function O(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}var M=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},s=0;return!function a(){let l={left:e.scrollLeft,top:e.scrollTop},n=r.left!==l.left,o=r.top!==l.top;(n||o)&&t(),r=l,s=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(s)};function U(e,t){let s=(0,o.useCallbackRef)(e),a=r.useRef(0);return r.useEffect(()=>()=>window.clearTimeout(a.current),[]),r.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(s,t)},[s,t])}function X(e,t){let r=(0,o.useCallbackRef)(t);(0,d.useLayoutEffect)(()=>{let t=0;if(e){let s=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(t),s.unobserve(e)}}},[e,r])}var $=e.i(47163);function Y({className:e,children:r,...s}){return(0,t.jsxs)(g,{"data-slot":"scroll-area",className:(0,$.cn)("relative",e),...s,children:[(0,t.jsx)(v,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:r}),(0,t.jsx)(V,{}),(0,t.jsx)(z,{})]})}function V({className:e,orientation:r="vertical",...s}){return(0,t.jsx)(w,{"data-slot":"scroll-area-scrollbar",orientation:r,className:(0,$.cn)("flex touch-none p-px transition-colors select-none","vertical"===r&&"h-full w-2.5 border-l border-l-transparent","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent",e),...s,children:(0,t.jsx)(P,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}e.s(["ScrollArea",()=>Y],71435)},8623,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(47627),a=e.i(67881),l=e.i(23750),n=e.i(73375),o=e.i(63059);function i({data:e,columns:i,page:d=1,totalPages:c=1,onPageChange:u,loading:m=!1}){let[h,x]=r.useState(d.toString());return r.useEffect(()=>{x(d.toString())},[d]),(0,t.jsxs)("div",{className:"bg-card border border-border rounded-xl overflow-hidden",children:[(0,t.jsxs)(s.Table,{children:[(0,t.jsx)(s.TableHeader,{children:(0,t.jsx)(s.TableRow,{className:"border-border hover:bg-transparent",children:i.map(e=>(0,t.jsx)(s.TableHead,{className:"text-muted-foreground font-medium",children:e.header},String(e.key)))})}),(0,t.jsx)(s.TableBody,{children:m?(0,t.jsx)(s.TableRow,{children:(0,t.jsx)(s.TableCell,{colSpan:i.length,className:"text-center py-8",children:(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)("div",{className:"h-6 w-6 animate-spin rounded-full border-2 border-primary border-t-transparent"})})})}):0===e.length?(0,t.jsx)(s.TableRow,{children:(0,t.jsx)(s.TableCell,{colSpan:i.length,className:"text-center py-8 text-muted-foreground",children:"暂无数据"})}):e.map(e=>(0,t.jsx)(s.TableRow,{className:"border-border hover:bg-muted/50",children:i.map(r=>(0,t.jsx)(s.TableCell,{children:r.render?r.render(e):String(e[r.key]??"")},String(r.key)))},e.id))})]}),c>1&&(0,t.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-t border-border",children:[(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["共 ",c," 页"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(a.Button,{variant:"outline",size:"sm",onClick:()=>u?.(d-1),disabled:d<=1,children:(0,t.jsx)(n.ChevronLeft,{className:"w-4 h-4"})}),(0,t.jsx)(l.Input,{type:"number",min:1,max:c,value:h,onChange:e=>{let t=e.target.value;x(t);let r=parseInt(t);r>=1&&r<=c&&u?.(r)},onBlur:()=>{let e=parseInt(h);isNaN(e)||e<1?e=1:e>c&&(e=c),x(e.toString()),u?.(e)},className:"w-16 h-8 text-center"}),(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:["/ ",c]}),(0,t.jsx)(a.Button,{variant:"outline",size:"sm",onClick:()=>u?.(d+1),disabled:d>=c,children:(0,t.jsx)(o.ChevronRight,{className:"w-4 h-4"})})]})]})]})}e.s(["DataTable",()=>i])},70756,e=>{"use strict";let t=(0,e.i(75254).default)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>t],70756)},17058,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(38447),a=e.i(13293),l=e.i(8623),n=e.i(67881),o=e.i(23750),i=e.i(94179),d=e.i(52917),c=e.i(71435),u=e.i(10708),m=e.i(62870),h=e.i(7233),x=e.i(55436),p=e.i(41071),f=e.i(88699),g=e.i(27612),b=e.i(86536),v=e.i(84614),j=e.i(61911),w=e.i(98919),N=e.i(3116),y=e.i(75254);let S=(0,y.default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),C=(0,y.default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);var k=e.i(70756),T=e.i(43531),R=e.i(63415),E=e.i(30030),L=e.i(30207),I=e.i(34620),P=e.i(48425),D="Avatar",[A,z]=(0,E.createContextScope)(D),[H,_]=A(D),B=r.forwardRef((e,s)=>{let{__scopeAvatar:a,...l}=e,[n,o]=r.useState("idle");return(0,t.jsx)(H,{scope:a,imageLoadingStatus:n,onImageLoadingStatusChange:o,children:(0,t.jsx)(P.Primitive.span,{...l,ref:s})})});B.displayName=D;var W="AvatarImage";r.forwardRef((e,s)=>{let{__scopeAvatar:a,src:l,onLoadingStatusChange:n=()=>{},...o}=e,i=_(W,a),d=function(e,t){let[s,a]=r.useState("idle");return(0,I.useLayoutEffect)(()=>{if(!e)return void a("error");let r=!0,s=new window.Image,l=e=>()=>{r&&a(e)};return a("loading"),s.onload=l("loaded"),s.onerror=l("error"),s.src=e,t&&(s.referrerPolicy=t),()=>{r=!1}},[e,t]),s}(l,o.referrerPolicy),c=(0,L.useCallbackRef)(e=>{n(e),i.onImageLoadingStatusChange(e)});return(0,I.useLayoutEffect)(()=>{"idle"!==d&&c(d)},[d,c]),"loaded"===d?(0,t.jsx)(P.Primitive.img,{...o,ref:s,src:l}):null}).displayName=W;var F="AvatarFallback",O=r.forwardRef((e,s)=>{let{__scopeAvatar:a,delayMs:l,...n}=e,o=_(F,a),[i,d]=r.useState(void 0===l);return r.useEffect(()=>{if(void 0!==l){let e=window.setTimeout(()=>d(!0),l);return()=>window.clearTimeout(e)}},[l]),i&&"loaded"!==o.imageLoadingStatus?(0,t.jsx)(P.Primitive.span,{...n,ref:s}):null});O.displayName=F;var M=e.i(47163);function U({className:e,...r}){return(0,t.jsx)(B,{"data-slot":"avatar",className:(0,M.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...r})}function X({className:e,...r}){return(0,t.jsx)(O,{"data-slot":"avatar-fallback",className:(0,M.cn)("bg-muted flex size-full items-center justify-center rounded-full",e),...r})}var $=e.i(46696),Y=e.i(38036);let V={active:"bg-success/10 text-success",inactive:"bg-muted text-muted-foreground",locked:"bg-destructive/10 text-destructive"},q={active:"正常",inactive:"未激活",locked:"已锁定"};function J(){let{t:e}=(0,s.useLanguage)(),[y,E]=(0,r.useState)(""),[L,I]=(0,r.useState)(!1),[P,D]=(0,r.useState)(!1),[A,z]=(0,r.useState)(!1),[H,_]=(0,r.useState)(null),[B,W]=(0,r.useState)(null),[F,O]=(0,r.useState)([]),[M,J]=(0,r.useState)([]),[K,G]=(0,r.useState)([]),[Q,Z]=(0,r.useState)(!0),[ee,et]=(0,r.useState)(1),[er]=(0,r.useState)(10),[es,ea]=(0,r.useState)(0),[el,en]=(0,r.useState)(!1),[eo,ei]=(0,r.useState)(!1),[ed,ec]=(0,r.useState)({username:"",nickname:"",email:"",phone:"",password:"",tenantCode:"",userStatus:"1"}),eu=async(e=ee)=>{Z(!0);try{let t=await (0,Y.fetchWithAuth)(`/admin/users?current=${e}&size=${er}`),r=await t.json();if(200===r.code&&r.data){let t=r.data;G(t.records||[]),ea(Math.ceil(t.total/er)),et(e)}}catch(e){console.error("获取用户列表失败",e)}finally{Z(!1)}},em=async()=>{try{let e=await (0,Y.fetchWithAuth)("/admin/tenants/list"),t=await e.json();200===t.code&&t.data&&J(t.data||[])}catch(e){console.error("获取租户列表失败",e)}};(0,r.useEffect)(()=>{ex(),em()},[]),(0,r.useEffect)(()=>{let e=setTimeout(()=>{y.trim()?eh(y):eu(1)},500);return()=>clearTimeout(e)},[y]);let eh=async e=>{Z(!0);try{let t=await (0,Y.fetchWithAuth)(`/admin/users/search/paginated?username=${encodeURIComponent(e)}&current=1&size=${er}`),r=await t.json();if(200===r.code&&r.data){let e=r.data;G(e.records||[]),ea(Math.ceil(e.total/er)),et(1)}}catch(e){console.error("搜索用户失败",e)}finally{Z(!1)}},ex=async()=>{try{let e=await (0,Y.fetchWithAuth)("/admin/roles/list"),t=await e.json();200===t.code&&t.data&&O(t.data||[])}catch(e){console.error("获取角色列表失败",e)}},ep=async e=>{W(e.originalData),D(!0);try{let t=await (0,Y.fetchWithAuth)(`/admin/users/by-role/${e.id}`),r=await t.json();if(console.log("用户角色响应:",r),200===r.code&&r.data){let t=r.data.assignedRoles||[],s=r.data.unassignedRoles||[],a=[...t.map(e=>({roleId:e.roleId,roleName:e.roleName,roleCode:e.roleCode})),...s.map(e=>({roleId:e.roleId,roleName:e.roleName,roleCode:e.roleCode}))];O(a),W({...e.originalData,roles:t.map(e=>({roleId:e.roleId,roleName:e.roleName,roleCode:e.roleCode}))})}}catch(e){console.error("获取用户角色失败",e)}},ef=async()=>{if(B){en(!0);try{let e=await (0,Y.fetchWithAuth)("/admin/user/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:B.user.userId,nickname:B.user.nickname,email:B.user.email,phone:B.user.phone,roleIds:B.roles.map(e=>e.roleId)})}),t=await e.json();200===t.code?(D(!1),eu(ee),$.toast.success("更新用户成功")):$.toast.error(t.message||"更新失败")}catch(e){console.error("更新用户失败",e),$.toast.error("更新失败，请重试")}finally{en(!1)}}},eg=async()=>{if(console.log("创建用户数据:",ed),!ed.tenantCode)return void $.toast.error("请选择租户");ei(!0);try{let e=await (0,Y.fetchWithAuth)(`/admin/tenant/code/${ed.tenantCode}`),t=await e.json();if(console.log("租户查询响应:",t),200!==t.code)return void $.toast.error(t.message||"查询租户失败");let r=t.data.tenantId,s=await (0,Y.fetchWithAuth)("/admin/user/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:ed.username,nickname:ed.nickname,email:ed.email,phone:ed.phone,password:ed.password,tenantId:r,userStatus:ed.userStatus})});console.log("响应状态:",s.status);let a=await s.json();console.log("响应数据:",a),200===a.code?(I(!1),ec({username:"",nickname:"",email:"",phone:"",password:"",tenantCode:"",userStatus:"1"}),eu(ee),$.toast.success("创建用户成功")):$.toast.error(a.message||"创建失败")}catch(e){console.error("创建用户失败",e),$.toast.error("创建失败，请重试")}finally{ei(!1)}},eb=async e=>{if(confirm(`确定要删除用户"${e.name}"吗？此操作不可恢复！`))try{console.log("删除用户ID:",e.id);let t=await (0,Y.fetchWithAuth)(`/admin/user/${e.id}/delete`,{method:"POST"});console.log("响应状态:",t.status);let r=await t.json();console.log("响应数据:",r),200===r.code?($.toast.success("删除成功"),eu(ee)):$.toast.error(r.message||"删除失败")}catch(e){console.error("删除用户失败",e),$.toast.error("删除失败，请重试")}},ev=[{key:"name",header:"用户",render:e=>(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(U,{className:"w-8 h-8",children:(0,t.jsx)(X,{className:"bg-primary/10 text-primary text-xs",children:e.name.slice(0,2)})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-foreground",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["@",e.username]})]})]})},{key:"email",header:"邮箱",render:e=>(0,t.jsx)("span",{className:"text-foreground text-sm",children:e.email})},{key:"roles",header:"角色",render:e=>(0,t.jsx)(i.Badge,{variant:"outline",children:e.roles})},{key:"status",header:"状态",render:e=>(0,t.jsx)(i.Badge,{className:V[e.status],children:q[e.status]})},{key:"createdAt",header:"创建日期",render:e=>(0,t.jsx)("span",{className:"text-muted-foreground text-sm",children:e.createdAt?new Date(e.createdAt).toLocaleDateString("zh-CN"):"-"})},{key:"actions",header:"操作",render:e=>(0,t.jsxs)(R.DropdownMenu,{children:[(0,t.jsx)(R.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsx)(n.Button,{variant:"ghost",size:"icon",children:(0,t.jsx)(p.MoreHorizontal,{className:"w-4 h-4"})})}),(0,t.jsxs)(R.DropdownMenuContent,{align:"end",children:[(0,t.jsxs)(R.DropdownMenuItem,{onClick:()=>{_(e.originalData),z(!0)},children:[(0,t.jsx)(b.Eye,{className:"w-4 h-4 mr-2"}),"查看详情"]}),(0,t.jsxs)(R.DropdownMenuItem,{onClick:()=>ep(e),children:[(0,t.jsx)(f.Pencil,{className:"w-4 h-4 mr-2"}),"编辑用户"]}),(0,t.jsxs)(R.DropdownMenuItem,{className:"text-destructive",onClick:()=>eb(e),children:[(0,t.jsx)(g.Trash2,{className:"w-4 h-4 mr-2"}),"删除用户"]})]})]})}],ej=K.filter(e=>e&&e.user).map(e=>({id:e.user.userId,name:e.user.nickname||e.user.username,username:e.user.username,email:e.user.email,phone:e.user.phone,tenantId:e.user.tenantId,roles:e.roles?e.roles.map(e=>e.roleName).join(", "):"",status:1===e.user.userStatus?"active":0===e.user.userStatus?"inactive":"locked",createdAt:e.user.createTime,updatedAt:e.user.updateTime,originalData:e}));return(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsx)(a.Header,{title:e.dashboard.users,description:e.dashboard.usersDescription}),(0,t.jsxs)("div",{className:"flex-1 p-6 space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"relative w-80",children:[(0,t.jsx)(x.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,t.jsx)(o.Input,{placeholder:e.dashboard.usersSearchPlaceholder,value:y,onChange:e=>E(e.target.value),className:"pl-9 bg-card border-border"})]}),(0,t.jsxs)(d.Sheet,{open:L,onOpenChange:I,children:[(0,t.jsx)(d.SheetTrigger,{asChild:!0,children:(0,t.jsxs)(n.Button,{children:[(0,t.jsx)(h.Plus,{className:"w-4 h-4 mr-2"}),e.dashboard.createUser]})}),(0,t.jsxs)(d.SheetContent,{className:"sm:max-w-[500px] flex flex-col p-0 gap-0",children:[(0,t.jsxs)(d.SheetHeader,{className:"px-6 py-4 border-b",children:[(0,t.jsx)(d.SheetTitle,{children:"新建用户"}),(0,t.jsx)(d.SheetDescription,{children:"为租户创建一个新用户账户"})]}),(0,t.jsx)(c.ScrollArea,{className:"flex-1",children:(0,t.jsxs)("div",{className:"space-y-6 p-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(u.Label,{htmlFor:"tenantCode",children:["所属租户 ",(0,t.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,t.jsx)(o.Input,{id:"tenantCode",placeholder:"输入租户代码",value:ed.tenantCode,onChange:e=>ec({...ed,tenantCode:e.target.value}),className:"bg-card border-border"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.Label,{htmlFor:"userStatus",children:"用户状态"}),(0,t.jsxs)(m.Select,{value:ed.userStatus,onValueChange:e=>ec({...ed,userStatus:e}),children:[(0,t.jsx)(m.SelectTrigger,{children:(0,t.jsx)(m.SelectValue,{placeholder:"选择状态"})}),(0,t.jsxs)(m.SelectContent,{children:[(0,t.jsx)(m.SelectItem,{value:"1",children:"正常"}),(0,t.jsx)(m.SelectItem,{value:"0",children:"已锁定"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(u.Label,{htmlFor:"username",children:["用户名 ",(0,t.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,t.jsx)(o.Input,{id:"username",placeholder:"输入用户名",value:ed.username,onChange:e=>ec({...ed,username:e.target.value}),className:"bg-card border-border"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.Label,{htmlFor:"nickname",children:"昵称"}),(0,t.jsx)(o.Input,{id:"nickname",placeholder:"输入昵称",value:ed.nickname,onChange:e=>ec({...ed,nickname:e.target.value}),className:"bg-card border-border"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.Label,{htmlFor:"email",children:"邮箱"}),(0,t.jsx)(o.Input,{id:"email",type:"email",placeholder:"user@example.com",value:ed.email,onChange:e=>ec({...ed,email:e.target.value}),className:"bg-card border-border"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.Label,{htmlFor:"phone",children:"手机号"}),(0,t.jsx)(o.Input,{id:"phone",placeholder:"输入手机号",value:ed.phone,onChange:e=>ec({...ed,phone:e.target.value}),className:"bg-card border-border"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.Label,{htmlFor:"password",children:"初始密码"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(k.Lock,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,t.jsx)(o.Input,{id:"password",type:"password",placeholder:"设置初始密码",value:ed.password,onChange:e=>ec({...ed,password:e.target.value}),className:"bg-card border-border pl-9"})]})]})]})}),(0,t.jsxs)(d.SheetFooter,{className:"px-6 py-4 border-t bg-muted/20 sm:justify-between",children:[(0,t.jsx)(n.Button,{variant:"outline",onClick:()=>I(!1),children:"取消"}),(0,t.jsx)(n.Button,{onClick:eg,disabled:eo,children:eo?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"创建中..."]}):"创建用户"})]})]})]})]}),(0,t.jsx)(l.DataTable,{data:ej,columns:ev,page:ee,totalPages:es,onPageChange:e=>{eu(e)},loading:Q})]}),(0,t.jsx)(d.Sheet,{open:A,onOpenChange:z,children:(0,t.jsxs)(d.SheetContent,{className:"sm:max-w-[500px] flex flex-col p-0 gap-0",children:[(0,t.jsxs)(d.SheetHeader,{className:"px-6 py-4 border-b",children:[(0,t.jsx)(d.SheetTitle,{children:"用户详情"}),(0,t.jsx)(d.SheetDescription,{children:"查看用户的详细信息"})]}),(0,t.jsx)(c.ScrollArea,{className:"flex-1",children:H&&(0,t.jsxs)("div",{className:"space-y-6 p-6",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-primary/10 rounded-2xl flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(v.User,{className:"w-8 h-8 text-primary"})}),(0,t.jsxs)("div",{className:"flex-1 pt-1",children:[(0,t.jsx)("h4",{className:"text-xl font-semibold text-foreground",children:H.user.nickname||H.user.username}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground mt-1 flex items-center gap-2",children:["@",H.user.username,(0,t.jsx)(i.Badge,{className:V[1===H.user.userStatus?"active":0===H.user.userStatus?"inactive":"locked"],children:1===H.user.userStatus?q.active:0===H.user.userStatus?q.inactive:q.locked})]})]})]}),(0,t.jsxs)("div",{className:"grid gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-muted-foreground mb-4",children:"基础信息"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 bg-muted/20 p-4 rounded-lg",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(u.Label,{className:"text-xs text-muted-foreground",children:"租户 ID"}),(0,t.jsx)("div",{className:"text-sm font-medium",children:H.user.tenantId})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(u.Label,{className:"text-xs text-muted-foreground",children:"用户 ID"}),(0,t.jsx)("div",{className:"text-sm font-medium",children:H.user.userId})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-muted-foreground mb-4",children:"联系方式"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-card border rounded-lg",children:[(0,t.jsx)("div",{className:"p-2 bg-blue-50 text-blue-600 rounded-md",children:(0,t.jsx)(S,{className:"w-4 h-4"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"邮箱"}),(0,t.jsx)("p",{className:"text-sm font-medium",children:H.user.email||"-"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-card border rounded-lg",children:[(0,t.jsx)("div",{className:"p-2 bg-green-50 text-green-600 rounded-md",children:(0,t.jsx)(C,{className:"w-4 h-4"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"手机号"}),(0,t.jsx)("p",{className:"text-sm font-medium",children:H.user.phone||"-"})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-muted-foreground mb-4",children:"时间信息"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)(u.Label,{className:"text-xs text-muted-foreground flex items-center gap-1",children:[(0,t.jsx)(N.Clock,{className:"w-3 h-3"})," 创建时间"]}),(0,t.jsx)("div",{className:"text-sm",children:H.user.createTime?new Date(H.user.createTime).toLocaleString("zh-CN"):"-"})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)(u.Label,{className:"text-xs text-muted-foreground flex items-center gap-1",children:[(0,t.jsx)(N.Clock,{className:"w-3 h-3"})," 更新时间"]}),(0,t.jsx)("div",{className:"text-sm",children:H.user.updateTime?new Date(H.user.updateTime).toLocaleString("zh-CN"):"-"})]})]})]}),H.roles&&H.roles.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-muted-foreground mb-4",children:"分配角色"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:H.roles.map(e=>(0,t.jsxs)(i.Badge,{variant:"outline",className:"flex items-center gap-1 py-1 px-3",children:[(0,t.jsx)(w.Shield,{className:"w-3 h-3"}),e.roleName]},e.roleId))})]})]})]})}),(0,t.jsx)(d.SheetFooter,{className:"px-6 py-4 border-t mt-auto",children:(0,t.jsx)(n.Button,{onClick:()=>z(!1),className:"w-full sm:w-auto",children:"关闭"})})]})}),(0,t.jsx)(d.Sheet,{open:P,onOpenChange:D,children:(0,t.jsxs)(d.SheetContent,{className:"w-[90vw] sm:w-[600px] sm:max-w-[600px] flex flex-col p-0 gap-0",children:[(0,t.jsxs)(d.SheetHeader,{className:"px-6 py-4 border-b border-border shrink-0",children:[(0,t.jsxs)(d.SheetTitle,{className:"flex items-center gap-2 text-xl",children:[(0,t.jsx)(v.User,{className:"w-5 h-5"}),"编辑用户"]}),(0,t.jsx)(d.SheetDescription,{children:"修改用户信息和分配角色"})]}),(0,t.jsx)(c.ScrollArea,{className:"flex-1",children:B&&(0,t.jsxs)("div",{className:"flex flex-col min-h-full",children:[(0,t.jsxs)("div",{className:"px-6 py-6 border-b border-border bg-muted/30",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-muted-foreground mb-4",children:"基本信息"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.Label,{htmlFor:"editNickname",className:"text-sm font-medium",children:"昵称"}),(0,t.jsx)(o.Input,{id:"editNickname",value:B.user.nickname||"",onChange:e=>W({...B,user:{...B.user,nickname:e.target.value}}),className:"bg-card border-border h-9"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.Label,{htmlFor:"editEmail",className:"text-sm font-medium",children:"邮箱"}),(0,t.jsx)(o.Input,{id:"editEmail",type:"email",value:B.user.email||"",onChange:e=>W({...B,user:{...B.user,email:e.target.value}}),className:"bg-card border-border h-9"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.Label,{htmlFor:"editPhone",className:"text-sm font-medium",children:"手机号"}),(0,t.jsx)(o.Input,{id:"editPhone",value:B.user.phone||"",onChange:e=>W({...B,user:{...B.user,phone:e.target.value}}),className:"bg-card border-border h-9"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.Label,{className:"text-sm font-medium",children:"用户状态"}),(0,t.jsx)("div",{className:"flex items-center h-9 px-3 bg-muted/50 rounded-md border border-transparent",children:(0,t.jsx)(i.Badge,{className:1===B.user.userStatus?"bg-green-100 text-green-700 border-green-300":"bg-red-100 text-red-700 border-red-300",children:1===B.user.userStatus?"启用":"禁用"})})]})]})]}),(0,t.jsxs)("div",{className:"flex-1 p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"p-1.5 bg-primary/10 rounded-md",children:(0,t.jsx)(w.Shield,{className:"w-4 h-4 text-primary"})}),(0,t.jsx)("h4",{className:"text-sm font-medium",children:"分配角色"})]}),(0,t.jsxs)(i.Badge,{variant:"outline",className:"font-normal",children:["已选 ",B.roles.length," / ",F.length]})]}),(0,t.jsxs)("div",{className:"border rounded-lg overflow-hidden bg-card",children:[(0,t.jsxs)("div",{className:"px-4 py-3 bg-muted/50 border-b flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:F.length>0&&B.roles.length===F.length,ref:e=>{if(e){let t=F.length>0&&B.roles.length===F.length;e.indeterminate=B.roles.length>0&&B.roles.length<F.length&&!t}},onChange:e=>{e.target.checked?W({...B,roles:F.map(e=>({roleId:e.roleId,roleName:e.roleName,roleCode:e.roleCode}))}):W({...B,roles:[]})},className:"rounded border-gray-300 w-4 h-4 cursor-pointer accent-primary"}),(0,t.jsx)(u.Label,{className:"text-xs font-medium cursor-pointer text-muted-foreground",children:"全选所有角色"})]}),(0,t.jsx)("div",{className:"p-4 max-h-[300px] overflow-y-auto",children:0===F.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 text-muted-foreground",children:[(0,t.jsx)(j.Users,{className:"w-8 h-8 mb-2 opacity-20"}),(0,t.jsx)("p",{className:"text-xs",children:"暂无角色数据"})]}):(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3",children:F.map(e=>{let r=B.roles.some(t=>t.roleId===e.roleId);return(0,t.jsxs)("div",{className:`flex items-center gap-3 p-3 rounded-md border transition-all cursor-pointer ${r?"bg-primary/5 border-primary/20 shadow-sm":"bg-background border-border hover:bg-muted/50"}`,onClick:()=>{r?W({...B,roles:B.roles.filter(t=>t.roleId!==e.roleId)}):W({...B,roles:[...B.roles,{roleId:e.roleId,roleName:e.roleName,roleCode:e.roleCode}]})},children:[(0,t.jsx)("div",{className:`w-4 h-4 rounded border flex items-center justify-center transition-colors ${r?"bg-primary border-primary text-primary-foreground":"border-input bg-background"}`,children:r&&(0,t.jsx)(T.Check,{className:"w-3 h-3"})}),(0,t.jsxs)("div",{className:"flex flex-col gap-0.5 overflow-hidden",children:[(0,t.jsx)("span",{className:"text-sm font-medium truncate leading-none",children:e.roleName}),(0,t.jsx)("span",{className:"text-[10px] text-muted-foreground truncate",children:e.roleCode})]})]},e.roleId)})})})]})]})]})}),(0,t.jsxs)(d.SheetFooter,{className:"px-6 py-4 border-t border-border bg-muted/30 shrink-0 sm:justify-between",children:[(0,t.jsx)(n.Button,{variant:"outline",onClick:()=>D(!1),disabled:el,children:"取消"}),(0,t.jsx)(n.Button,{onClick:ef,disabled:el,className:"min-w-[100px]",children:el?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"保存中..."]}):"保存更改"})]})]})})]})}e.s(["default",()=>J],17058)}]);