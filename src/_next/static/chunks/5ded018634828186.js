(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,84762,e=>{"use strict";var t=e.i(43476),r=e.i(47163);function a({className:e,...a}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,r.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...a})}e.s(["Textarea",()=>a])},41071,e=>{"use strict";let t=(0,e.i(75254).default)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);e.s(["MoreHorizontal",()=>t],41071)},88699,e=>{"use strict";let t=(0,e.i(75254).default)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);e.s(["Pencil",()=>t],88699)},8623,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(47627),n=e.i(67881),s=e.i(23750),l=e.i(73375),o=e.i(63059);function i({data:e,columns:i,page:c=1,totalPages:d=1,onPageChange:u,loading:h=!1}){let[m,p]=r.useState(c.toString());return r.useEffect(()=>{p(c.toString())},[c]),(0,t.jsxs)("div",{className:"bg-card border border-border rounded-xl overflow-hidden",children:[(0,t.jsxs)(a.Table,{children:[(0,t.jsx)(a.TableHeader,{children:(0,t.jsx)(a.TableRow,{className:"border-border hover:bg-transparent",children:i.map(e=>(0,t.jsx)(a.TableHead,{className:"text-muted-foreground font-medium",children:e.header},String(e.key)))})}),(0,t.jsx)(a.TableBody,{children:h?(0,t.jsx)(a.TableRow,{children:(0,t.jsx)(a.TableCell,{colSpan:i.length,className:"text-center py-8",children:(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)("div",{className:"h-6 w-6 animate-spin rounded-full border-2 border-primary border-t-transparent"})})})}):0===e.length?(0,t.jsx)(a.TableRow,{children:(0,t.jsx)(a.TableCell,{colSpan:i.length,className:"text-center py-8 text-muted-foreground",children:"暂无数据"})}):e.map(e=>(0,t.jsx)(a.TableRow,{className:"border-border hover:bg-muted/50",children:i.map(r=>(0,t.jsx)(a.TableCell,{children:r.render?r.render(e):String(e[r.key]??"")},String(r.key)))},e.id))})]}),d>1&&(0,t.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-t border-border",children:[(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["共 ",d," 页"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(n.Button,{variant:"outline",size:"sm",onClick:()=>u?.(c-1),disabled:c<=1,children:(0,t.jsx)(l.ChevronLeft,{className:"w-4 h-4"})}),(0,t.jsx)(s.Input,{type:"number",min:1,max:d,value:m,onChange:e=>{let t=e.target.value;p(t);let r=parseInt(t);r>=1&&r<=d&&u?.(r)},onBlur:()=>{let e=parseInt(m);isNaN(e)||e<1?e=1:e>d&&(e=d),p(e.toString()),u?.(e)},className:"w-16 h-8 text-center"}),(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:["/ ",d]}),(0,t.jsx)(n.Button,{variant:"outline",size:"sm",onClick:()=>u?.(c+1),disabled:c>=d,children:(0,t.jsx)(o.ChevronRight,{className:"w-4 h-4"})})]})]})]})}e.s(["DataTable",()=>i])},3116,e=>{"use strict";let t=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],3116)},52917,e=>{"use strict";var t=e.i(43476),r=e.i(26999),a=e.i(95926),n=e.i(47163);function s({...e}){return(0,t.jsx)(r.Root,{"data-slot":"sheet",...e})}function l({...e}){return(0,t.jsx)(r.Trigger,{"data-slot":"sheet-trigger",...e})}function o({...e}){return(0,t.jsx)(r.Portal,{"data-slot":"sheet-portal",...e})}function i({className:e,...a}){return(0,t.jsx)(r.Overlay,{"data-slot":"sheet-overlay",className:(0,n.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...a})}function c({className:e,children:s,side:l="right",...c}){return(0,t.jsxs)(o,{children:[(0,t.jsx)(i,{}),(0,t.jsxs)(r.Content,{"data-slot":"sheet-content",className:(0,n.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===l&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===l&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===l&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===l&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...c,children:[s,(0,t.jsxs)(r.Close,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,t.jsx)(a.XIcon,{className:"size-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function d({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"sheet-header",className:(0,n.cn)("flex flex-col gap-1.5 p-4",e),...r})}function u({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"sheet-footer",className:(0,n.cn)("mt-auto flex flex-col gap-2 p-4",e),...r})}function h({className:e,...a}){return(0,t.jsx)(r.Title,{"data-slot":"sheet-title",className:(0,n.cn)("text-foreground font-semibold",e),...a})}function m({className:e,...a}){return(0,t.jsx)(r.Description,{"data-slot":"sheet-description",className:(0,n.cn)("text-muted-foreground text-sm",e),...a})}e.s(["Sheet",()=>s,"SheetContent",()=>c,"SheetDescription",()=>m,"SheetFooter",()=>u,"SheetHeader",()=>d,"SheetTitle",()=>h,"SheetTrigger",()=>l])},47627,e=>{"use strict";var t=e.i(43476),r=e.i(47163);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:(0,r.cn)("w-full caption-bottom text-sm",e),...a})})}function n({className:e,...a}){return(0,t.jsx)("thead",{"data-slot":"table-header",className:(0,r.cn)("[&_tr]:border-b",e),...a})}function s({className:e,...a}){return(0,t.jsx)("tbody",{"data-slot":"table-body",className:(0,r.cn)("[&_tr:last-child]:border-0",e),...a})}function l({className:e,...a}){return(0,t.jsx)("tr",{"data-slot":"table-row",className:(0,r.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...a})}function o({className:e,...a}){return(0,t.jsx)("th",{"data-slot":"table-head",className:(0,r.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a})}function i({className:e,...a}){return(0,t.jsx)("td",{"data-slot":"table-cell",className:(0,r.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a})}e.s(["Table",()=>a,"TableBody",()=>s,"TableCell",()=>i,"TableHead",()=>o,"TableHeader",()=>n,"TableRow",()=>l])},86536,e=>{"use strict";let t=(0,e.i(75254).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],86536)},71435,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(48425),n=e.i(96626),s=e.i(30030),l=e.i(20783),o=e.i(30207),i=e.i(86318),c=e.i(34620),d=e.i(70152),u=e.i(81140),h="ScrollArea",[m,p]=(0,s.createContextScope)(h),[x,f]=m(h),b=r.forwardRef((e,n)=>{let{__scopeScrollArea:s,type:o="hover",dir:c,scrollHideDelay:d=600,...u}=e,[h,m]=r.useState(null),[p,f]=r.useState(null),[b,g]=r.useState(null),[v,j]=r.useState(null),[w,S]=r.useState(null),[N,y]=r.useState(0),[C,T]=r.useState(0),[E,R]=r.useState(!1),[P,L]=r.useState(!1),k=(0,l.useComposedRefs)(n,e=>m(e)),D=(0,i.useDirection)(c);return(0,t.jsx)(x,{scope:s,type:o,dir:D,scrollHideDelay:d,scrollArea:h,viewport:p,onViewportChange:f,content:b,onContentChange:g,scrollbarX:v,onScrollbarXChange:j,scrollbarXEnabled:E,onScrollbarXEnabledChange:R,scrollbarY:w,onScrollbarYChange:S,scrollbarYEnabled:P,onScrollbarYEnabledChange:L,onCornerWidthChange:y,onCornerHeightChange:T,children:(0,t.jsx)(a.Primitive.div,{dir:D,...u,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":N+"px","--radix-scroll-area-corner-height":C+"px",...e.style}})})});b.displayName=h;var g="ScrollAreaViewport",v=r.forwardRef((e,n)=>{let{__scopeScrollArea:s,children:o,nonce:i,...c}=e,d=f(g,s),u=r.useRef(null),h=(0,l.useComposedRefs)(n,u,d.onViewportChange);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),(0,t.jsx)(a.Primitive.div,{"data-radix-scroll-area-viewport":"",...c,ref:h,style:{overflowX:d.scrollbarXEnabled?"scroll":"hidden",overflowY:d.scrollbarYEnabled?"scroll":"hidden",...e.style},children:(0,t.jsx)("div",{ref:d.onContentChange,style:{minWidth:"100%",display:"table"},children:o})})]})});v.displayName=g;var j="ScrollAreaScrollbar",w=r.forwardRef((e,a)=>{let{forceMount:n,...s}=e,l=f(j,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=l,c="horizontal"===e.orientation;return r.useEffect(()=>(c?o(!0):i(!0),()=>{c?o(!1):i(!1)}),[c,o,i]),"hover"===l.type?(0,t.jsx)(S,{...s,ref:a,forceMount:n}):"scroll"===l.type?(0,t.jsx)(N,{...s,ref:a,forceMount:n}):"auto"===l.type?(0,t.jsx)(y,{...s,ref:a,forceMount:n}):"always"===l.type?(0,t.jsx)(C,{...s,ref:a}):null});w.displayName=j;var S=r.forwardRef((e,a)=>{let{forceMount:s,...l}=e,o=f(j,e.__scopeScrollArea),[i,c]=r.useState(!1);return r.useEffect(()=>{let e=o.scrollArea,t=0;if(e){let r=()=>{window.clearTimeout(t),c(!0)},a=()=>{t=window.setTimeout(()=>c(!1),o.scrollHideDelay)};return e.addEventListener("pointerenter",r),e.addEventListener("pointerleave",a),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",r),e.removeEventListener("pointerleave",a)}}},[o.scrollArea,o.scrollHideDelay]),(0,t.jsx)(n.Presence,{present:s||i,children:(0,t.jsx)(y,{"data-state":i?"visible":"hidden",...l,ref:a})})}),N=r.forwardRef((e,a)=>{var s;let{forceMount:l,...o}=e,i=f(j,e.__scopeScrollArea),c="horizontal"===e.orientation,d=U(()=>m("SCROLL_END"),100),[h,m]=(s={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},r.useReducer((e,t)=>s[e][t]??e,"hidden"));return r.useEffect(()=>{if("idle"===h){let e=window.setTimeout(()=>m("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(e)}},[h,i.scrollHideDelay,m]),r.useEffect(()=>{let e=i.viewport,t=c?"scrollLeft":"scrollTop";if(e){let r=e[t],a=()=>{let a=e[t];r!==a&&(m("SCROLL"),d()),r=a};return e.addEventListener("scroll",a),()=>e.removeEventListener("scroll",a)}},[i.viewport,c,m,d]),(0,t.jsx)(n.Presence,{present:l||"hidden"!==h,children:(0,t.jsx)(C,{"data-state":"hidden"===h?"hidden":"visible",...o,ref:a,onPointerEnter:(0,u.composeEventHandlers)(e.onPointerEnter,()=>m("POINTER_ENTER")),onPointerLeave:(0,u.composeEventHandlers)(e.onPointerLeave,()=>m("POINTER_LEAVE"))})})}),y=r.forwardRef((e,a)=>{let s=f(j,e.__scopeScrollArea),{forceMount:l,...o}=e,[i,c]=r.useState(!1),d="horizontal"===e.orientation,u=U(()=>{if(s.viewport){let e=s.viewport.offsetWidth<s.viewport.scrollWidth,t=s.viewport.offsetHeight<s.viewport.scrollHeight;c(d?e:t)}},10);return X(s.viewport,u),X(s.content,u),(0,t.jsx)(n.Presence,{present:l||i,children:(0,t.jsx)(C,{"data-state":i?"visible":"hidden",...o,ref:a})})}),C=r.forwardRef((e,a)=>{let{orientation:n="vertical",...s}=e,l=f(j,e.__scopeScrollArea),o=r.useRef(null),i=r.useRef(0),[c,d]=r.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=B(c.viewport,c.content),h={...s,sizes:c,onSizesChange:d,hasThumb:!!(u>0&&u<1),onThumbChange:e=>o.current=e,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:e=>i.current=e};function m(e,t){return function(e,t,r,a="ltr"){let n=O(r),s=t||n/2,l=r.scrollbar.paddingStart+s,o=r.scrollbar.size-r.scrollbar.paddingEnd-(n-s),i=r.content-r.viewport;return F([l,o],"ltr"===a?[0,i]:[-1*i,0])(e)}(e,i.current,c,t)}return"horizontal"===n?(0,t.jsx)(T,{...h,ref:a,onThumbPositionChange:()=>{if(l.viewport&&o.current){let e=W(l.viewport.scrollLeft,c,l.dir);o.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{l.viewport&&(l.viewport.scrollLeft=e)},onDragScroll:e=>{l.viewport&&(l.viewport.scrollLeft=m(e,l.dir))}}):"vertical"===n?(0,t.jsx)(E,{...h,ref:a,onThumbPositionChange:()=>{if(l.viewport&&o.current){let e=W(l.viewport.scrollTop,c);o.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{l.viewport&&(l.viewport.scrollTop=e)},onDragScroll:e=>{l.viewport&&(l.viewport.scrollTop=m(e))}}):null}),T=r.forwardRef((e,a)=>{let{sizes:n,onSizesChange:s,...o}=e,i=f(j,e.__scopeScrollArea),[c,d]=r.useState(),u=r.useRef(null),h=(0,l.useComposedRefs)(a,u,i.onScrollbarXChange);return r.useEffect(()=>{u.current&&d(getComputedStyle(u.current))},[u]),(0,t.jsx)(L,{"data-orientation":"horizontal",...o,ref:h,sizes:n,style:{bottom:0,left:"rtl"===i.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===i.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":O(n)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,r)=>{if(i.viewport){var a,n;let s=i.viewport.scrollLeft+t.deltaX;e.onWheelScroll(s),a=s,n=r,a>0&&a<n&&t.preventDefault()}},onResize:()=>{u.current&&i.viewport&&c&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:_(c.paddingLeft),paddingEnd:_(c.paddingRight)}})}})}),E=r.forwardRef((e,a)=>{let{sizes:n,onSizesChange:s,...o}=e,i=f(j,e.__scopeScrollArea),[c,d]=r.useState(),u=r.useRef(null),h=(0,l.useComposedRefs)(a,u,i.onScrollbarYChange);return r.useEffect(()=>{u.current&&d(getComputedStyle(u.current))},[u]),(0,t.jsx)(L,{"data-orientation":"vertical",...o,ref:h,sizes:n,style:{top:0,right:"ltr"===i.dir?0:void 0,left:"rtl"===i.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":O(n)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,r)=>{if(i.viewport){var a,n;let s=i.viewport.scrollTop+t.deltaY;e.onWheelScroll(s),a=s,n=r,a>0&&a<n&&t.preventDefault()}},onResize:()=>{u.current&&i.viewport&&c&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:_(c.paddingTop),paddingEnd:_(c.paddingBottom)}})}})}),[R,P]=m(j),L=r.forwardRef((e,n)=>{let{__scopeScrollArea:s,sizes:i,hasThumb:c,onThumbChange:d,onThumbPointerUp:h,onThumbPointerDown:m,onThumbPositionChange:p,onDragScroll:x,onWheelScroll:b,onResize:g,...v}=e,w=f(j,s),[S,N]=r.useState(null),y=(0,l.useComposedRefs)(n,e=>N(e)),C=r.useRef(null),T=r.useRef(""),E=w.viewport,P=i.content-i.viewport,L=(0,o.useCallbackRef)(b),k=(0,o.useCallbackRef)(p),D=U(g,10);function A(e){C.current&&x({x:e.clientX-C.current.left,y:e.clientY-C.current.top})}return r.useEffect(()=>{let e=e=>{let t=e.target;S?.contains(t)&&L(e,P)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[E,S,P,L]),r.useEffect(k,[i,k]),X(S,D),X(w.content,D),(0,t.jsx)(R,{scope:s,scrollbar:S,hasThumb:c,onThumbChange:(0,o.useCallbackRef)(d),onThumbPointerUp:(0,o.useCallbackRef)(h),onThumbPositionChange:k,onThumbPointerDown:(0,o.useCallbackRef)(m),children:(0,t.jsx)(a.Primitive.div,{...v,ref:y,style:{position:"absolute",...v.style},onPointerDown:(0,u.composeEventHandlers)(e.onPointerDown,e=>{0===e.button&&(e.target.setPointerCapture(e.pointerId),C.current=S.getBoundingClientRect(),T.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",w.viewport&&(w.viewport.style.scrollBehavior="auto"),A(e))}),onPointerMove:(0,u.composeEventHandlers)(e.onPointerMove,A),onPointerUp:(0,u.composeEventHandlers)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=T.current,w.viewport&&(w.viewport.style.scrollBehavior=""),C.current=null})})})}),k="ScrollAreaThumb",D=r.forwardRef((e,r)=>{let{forceMount:a,...s}=e,l=P(k,e.__scopeScrollArea);return(0,t.jsx)(n.Presence,{present:a||l.hasThumb,children:(0,t.jsx)(A,{ref:r,...s})})}),A=r.forwardRef((e,n)=>{let{__scopeScrollArea:s,style:o,...i}=e,c=f(k,s),d=P(k,s),{onThumbPositionChange:h}=d,m=(0,l.useComposedRefs)(n,e=>d.onThumbChange(e)),p=r.useRef(void 0),x=U(()=>{p.current&&(p.current(),p.current=void 0)},100);return r.useEffect(()=>{let e=c.viewport;if(e){let t=()=>{x(),p.current||(p.current=M(e,h),h())};return h(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[c.viewport,x,h]),(0,t.jsx)(a.Primitive.div,{"data-state":d.hasThumb?"visible":"hidden",...i,ref:m,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...o},onPointerDownCapture:(0,u.composeEventHandlers)(e.onPointerDownCapture,e=>{let t=e.target.getBoundingClientRect(),r=e.clientX-t.left,a=e.clientY-t.top;d.onThumbPointerDown({x:r,y:a})}),onPointerUp:(0,u.composeEventHandlers)(e.onPointerUp,d.onThumbPointerUp)})});D.displayName=k;var I="ScrollAreaCorner",z=r.forwardRef((e,r)=>{let a=f(I,e.__scopeScrollArea),n=!!(a.scrollbarX&&a.scrollbarY);return"scroll"!==a.type&&n?(0,t.jsx)(H,{...e,ref:r}):null});z.displayName=I;var H=r.forwardRef((e,n)=>{let{__scopeScrollArea:s,...l}=e,o=f(I,s),[i,c]=r.useState(0),[d,u]=r.useState(0),h=!!(i&&d);return X(o.scrollbarX,()=>{let e=o.scrollbarX?.offsetHeight||0;o.onCornerHeightChange(e),u(e)}),X(o.scrollbarY,()=>{let e=o.scrollbarY?.offsetWidth||0;o.onCornerWidthChange(e),c(e)}),h?(0,t.jsx)(a.Primitive.div,{...l,ref:n,style:{width:i,height:d,position:"absolute",right:"ltr"===o.dir?0:void 0,left:"rtl"===o.dir?0:void 0,bottom:0,...e.style}}):null});function _(e){return e?parseInt(e,10):0}function B(e,t){let r=e/t;return isNaN(r)?0:r}function O(e){let t=B(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd;return Math.max((e.scrollbar.size-r)*t,18)}function W(e,t,r="ltr"){let a=O(t),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-n,l=t.content-t.viewport,o=(0,d.clamp)(e,"ltr"===r?[0,l]:[-1*l,0]);return F([0,l],[0,s-a])(o)}function F(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(r-e[0])}}var M=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},a=0;return!function n(){let s={left:e.scrollLeft,top:e.scrollTop},l=r.left!==s.left,o=r.top!==s.top;(l||o)&&t(),r=s,a=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(a)};function U(e,t){let a=(0,o.useCallbackRef)(e),n=r.useRef(0);return r.useEffect(()=>()=>window.clearTimeout(n.current),[]),r.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(a,t)},[a,t])}function X(e,t){let r=(0,o.useCallbackRef)(t);(0,c.useLayoutEffect)(()=>{let t=0;if(e){let a=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(t),a.unobserve(e)}}},[e,r])}var Y=e.i(47163);function V({className:e,children:r,...a}){return(0,t.jsxs)(b,{"data-slot":"scroll-area",className:(0,Y.cn)("relative",e),...a,children:[(0,t.jsx)(v,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:r}),(0,t.jsx)($,{}),(0,t.jsx)(z,{})]})}function $({className:e,orientation:r="vertical",...a}){return(0,t.jsx)(w,{"data-slot":"scroll-area-scrollbar",orientation:r,className:(0,Y.cn)("flex touch-none p-px transition-colors select-none","vertical"===r&&"h-full w-2.5 border-l border-l-transparent","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent",e),...a,children:(0,t.jsx)(D,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}e.s(["ScrollArea",()=>V],71435)},41611,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(13293),n=e.i(8623),s=e.i(67881),l=e.i(23750),o=e.i(94179),i=e.i(52917),c=e.i(71435),d=e.i(10708),u=e.i(84762),h=e.i(62870),m=e.i(7233),p=e.i(55436),x=e.i(41071),f=e.i(88699),b=e.i(27612),g=e.i(86536),v=e.i(7486),j=e.i(3116),w=e.i(63415),S=e.i(46696),N=e.i(38036),y=e.i(38447);let C={active:"bg-success/10 text-success",inactive:"bg-muted text-muted-foreground",suspended:"bg-destructive/10 text-destructive"},T={active:"已激活",inactive:"未激活",suspended:"已停用"};function E(){let{t:e}=(0,y.useLanguage)(),[E,R]=(0,r.useState)(""),[P,L]=(0,r.useState)(!1),[k,D]=(0,r.useState)(!1),[A,I]=(0,r.useState)(!1),[z,H]=(0,r.useState)(null),[_,B]=(0,r.useState)(null),[O,W]=(0,r.useState)({tenantName:"",tenantCode:"",description:"",status:"1",adminEmail:""}),[F,M]=(0,r.useState)([]),[U,X]=(0,r.useState)(!0),[Y,V]=(0,r.useState)(1),[$]=(0,r.useState)(10),[q,K]=(0,r.useState)(0),[J,G]=(0,r.useState)(!1),Q=async(e=Y)=>{X(!0);try{let t=await (0,N.fetchWithAuth)(`/admin/tenant/info?page=${e}&size=${$}`),r=await t.json();if(200===r.code&&r.data){let t=r.data;M(t.records||[]),K(Math.ceil(t.total/$)),V(e)}}catch(e){console.error("获取租户列表失败",e)}finally{X(!1)}};(0,r.useEffect)(()=>{let e=setTimeout(()=>{E.trim()?Z(E):Q(1)},500);return()=>clearTimeout(e)},[E]);let Z=async e=>{X(!0);try{let t=await (0,N.fetchWithAuth)(`/admin/tenants/search?tenantName=${encodeURIComponent(e)}`),r=await t.json();200===r.code&&r.data&&(M(r.data),K(1))}catch(e){console.error("搜索租户失败",e)}finally{X(!1)}},ee=async()=>{console.log("创建租户数据:",O);try{let e=await (0,N.fetchWithAuth)("/admin/tenant/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tenantName:O.tenantName,tenantCode:O.tenantCode,description:O.description,status:O.status,adminEmail:O.adminEmail})});console.log("响应状态:",e.status);let t=await e.json();console.log("响应数据:",t),200===t.code?(L(!1),W({tenantName:"",tenantCode:"",description:"",status:"1",adminEmail:""}),Q(Y),S.toast.success("创建租户成功")):S.toast.error(t.message||"创建失败")}catch(e){console.error("创建租户失败",e),S.toast.error("创建失败，请重试")}},et=async()=>{if(_){console.log("更新租户数据:",_),G(!0);try{let e=new URLSearchParams({tenantId:_.tenant.tenantId.toString(),tenantName:_.tenant.tenantName,description:_.tenant.description||"",status:_.tenant.tenantStatus.toString()});console.log("请求URL:",`/admin/tenant/update?${e.toString()}`);let t=await (0,N.fetchWithAuth)(`/admin/tenant/update?${e.toString()}`,{method:"POST"});console.log("响应状态:",t.status);let r=await t.json();console.log("响应数据:",r),200===r.code?(D(!1),Q(Y),S.toast.success("更新租户成功")):S.toast.error(r.message||"更新失败")}catch(e){console.error("更新租户失败",e),S.toast.error("更新失败，请重试")}finally{G(!1)}}},er=async e=>{if(confirm(`确定要删除租户"${e.name}"吗？此操作不可恢复！`))try{console.log("删除租户ID:",e.id);let t=await (0,N.fetchWithAuth)(`/admin/tenant/${e.id}/delete`,{method:"POST"});console.log("响应状态:",t.status);let r=await t.json();console.log("响应数据:",r),200===r.code?(S.toast.success("删除成功"),Q(Y)):S.toast.error(r.message||"删除失败")}catch(e){console.error("删除租户失败",e),S.toast.error("删除失败，请重试")}},ea=[{key:"name",header:"租户名称",render:e=>(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-foreground",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.code})]})},{key:"status",header:"状态",render:e=>(0,t.jsx)(o.Badge,{className:C[e.status],children:T[e.status]})},{key:"userCount",header:"用户数",render:e=>(0,t.jsx)("span",{className:"text-foreground",children:e.userCount})},{key:"createdAt",header:"创建日期",render:e=>(0,t.jsx)("span",{className:"text-muted-foreground",children:e.createdAt?new Date(e.createdAt).toLocaleDateString("zh-CN"):"-"})},{key:"actions",header:"操作",render:e=>(0,t.jsxs)(w.DropdownMenu,{children:[(0,t.jsx)(w.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsx)(s.Button,{variant:"ghost",size:"icon",children:(0,t.jsx)(x.MoreHorizontal,{className:"w-4 h-4"})})}),(0,t.jsxs)(w.DropdownMenuContent,{align:"end",children:[(0,t.jsxs)(w.DropdownMenuItem,{onClick:()=>{H(e.originalData),I(!0)},children:[(0,t.jsx)(g.Eye,{className:"w-4 h-4 mr-2"}),"查看详情"]}),(0,t.jsxs)(w.DropdownMenuItem,{onClick:()=>{B(e.originalData),D(!0)},children:[(0,t.jsx)(f.Pencil,{className:"w-4 h-4 mr-2"}),"编辑"]}),(0,t.jsxs)(w.DropdownMenuItem,{className:"text-destructive",onClick:()=>er(e),children:[(0,t.jsx)(b.Trash2,{className:"w-4 h-4 mr-2"}),"删除"]})]})]})}],en=F.map(e=>({id:e.tenant.tenantId,name:e.tenant.tenantName,code:e.tenant.tenantCode,status:1===e.tenant.tenantStatus?"active":0===e.tenant.tenantStatus?"inactive":"suspended",userCount:e.userCount,createdAt:e.tenant.createTime||"",originalData:e}));return(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsx)(a.Header,{title:e.dashboard.tenants,description:e.dashboard.tenantsDescription}),(0,t.jsxs)("div",{className:"flex-1 p-6 space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"relative w-80",children:[(0,t.jsx)(p.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,t.jsx)(l.Input,{placeholder:e.dashboard.tenantsSearchPlaceholder,value:E,onChange:e=>R(e.target.value),className:"pl-9 bg-card border-border"})]}),(0,t.jsxs)(i.Sheet,{open:P,onOpenChange:L,children:[(0,t.jsx)(i.SheetTrigger,{asChild:!0,children:(0,t.jsxs)(s.Button,{children:[(0,t.jsx)(m.Plus,{className:"w-4 h-4 mr-2"}),e.dashboard.createTenant]})}),(0,t.jsxs)(i.SheetContent,{className:"sm:max-w-[500px] flex flex-col p-0 gap-0",children:[(0,t.jsxs)(i.SheetHeader,{className:"px-6 py-4 border-b",children:[(0,t.jsx)(i.SheetTitle,{children:"新建租户"}),(0,t.jsx)(i.SheetDescription,{children:"创建一个新的租户账户"})]}),(0,t.jsx)(c.ScrollArea,{className:"flex-1",children:(0,t.jsxs)("div",{className:"space-y-6 p-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(d.Label,{htmlFor:"tenantName",children:["租户名称 ",(0,t.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,t.jsx)(l.Input,{id:"tenantName",placeholder:"输入租户名称",value:O.tenantName,onChange:e=>W({...O,tenantName:e.target.value}),className:"bg-card border-border"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(d.Label,{htmlFor:"tenantCode",children:["租户代码 ",(0,t.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,t.jsx)(l.Input,{id:"tenantCode",placeholder:"输入唯一标识代码",value:O.tenantCode,onChange:e=>W({...O,tenantCode:e.target.value}),className:"bg-card border-border"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.Label,{htmlFor:"status",children:"状态"}),(0,t.jsxs)(h.Select,{value:O.status,onValueChange:e=>W({...O,status:e}),children:[(0,t.jsx)(h.SelectTrigger,{children:(0,t.jsx)(h.SelectValue,{placeholder:"选择状态"})}),(0,t.jsxs)(h.SelectContent,{children:[(0,t.jsx)(h.SelectItem,{value:"1",children:"启用"}),(0,t.jsx)(h.SelectItem,{value:"0",children:"停用"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.Label,{htmlFor:"adminEmail",children:"管理员邮箱"}),(0,t.jsx)(l.Input,{id:"adminEmail",type:"email",placeholder:"admin@example.com",value:O.adminEmail,onChange:e=>W({...O,adminEmail:e.target.value}),className:"bg-card border-border"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.Label,{htmlFor:"description",children:"描述"}),(0,t.jsx)(u.Textarea,{id:"description",placeholder:"描述租户的用途",value:O.description,onChange:e=>W({...O,description:e.target.value}),className:"bg-card border-border min-h-[100px]"})]})]})}),(0,t.jsxs)(i.SheetFooter,{className:"px-6 py-4 border-t bg-muted/20 sm:justify-between",children:[(0,t.jsx)(s.Button,{variant:"outline",onClick:()=>{L(!1),W({tenantName:"",tenantCode:"",description:"",status:"1",adminEmail:""})},children:"取消"}),(0,t.jsx)(s.Button,{onClick:ee,children:"创建"})]})]})]})]}),(0,t.jsx)(n.DataTable,{data:en,columns:ea,page:Y,totalPages:q,onPageChange:e=>{Q(e)},loading:U})]}),(0,t.jsx)(i.Sheet,{open:A,onOpenChange:I,children:(0,t.jsxs)(i.SheetContent,{className:"sm:max-w-[500px] flex flex-col p-0 gap-0",children:[(0,t.jsxs)(i.SheetHeader,{className:"px-6 py-4 border-b",children:[(0,t.jsx)(i.SheetTitle,{children:"租户详情"}),(0,t.jsx)(i.SheetDescription,{children:"查看租户的详细信息"})]}),(0,t.jsx)(c.ScrollArea,{className:"flex-1",children:z&&(0,t.jsxs)("div",{className:"space-y-6 p-6",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-primary/10 rounded-2xl flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(v.Building2,{className:"w-8 h-8 text-primary"})}),(0,t.jsxs)("div",{className:"flex-1 pt-1",children:[(0,t.jsx)("h4",{className:"text-xl font-semibold text-foreground",children:z.tenant.tenantName}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground mt-1 flex items-center gap-2",children:[z.tenant.tenantCode,(0,t.jsx)(o.Badge,{className:C[1===z.tenant.tenantStatus?"active":0===z.tenant.tenantStatus?"inactive":"suspended"],children:1===z.tenant.tenantStatus?T.active:0===z.tenant.tenantStatus?T.inactive:T.suspended})]})]})]}),(0,t.jsxs)("div",{className:"grid gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-muted-foreground mb-4",children:"基础信息"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 bg-muted/20 p-4 rounded-lg",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(d.Label,{className:"text-xs text-muted-foreground",children:"租户 ID"}),(0,t.jsx)("div",{className:"text-sm font-medium",children:z.tenant.tenantId})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(d.Label,{className:"text-xs text-muted-foreground",children:"用户数量"}),(0,t.jsx)("div",{className:"text-sm font-medium",children:z.userCount})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-muted-foreground mb-4",children:"时间信息"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)(d.Label,{className:"text-xs text-muted-foreground flex items-center gap-1",children:[(0,t.jsx)(j.Clock,{className:"w-3 h-3"})," 创建时间"]}),(0,t.jsx)("div",{className:"text-sm",children:z.tenant.createTime?new Date(z.tenant.createTime).toLocaleString("zh-CN"):"-"})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)(d.Label,{className:"text-xs text-muted-foreground flex items-center gap-1",children:[(0,t.jsx)(j.Clock,{className:"w-3 h-3"})," 更新时间"]}),(0,t.jsx)("div",{className:"text-sm",children:z.tenant.updateTime?new Date(z.tenant.updateTime).toLocaleString("zh-CN"):"-"})]})]})]}),z.tenant.description&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-muted-foreground mb-4",children:"描述"}),(0,t.jsx)("p",{className:"text-sm text-foreground bg-muted/50 p-4 rounded-lg border border-border/50",children:z.tenant.description})]})]})]})}),(0,t.jsx)(i.SheetFooter,{className:"px-6 py-4 border-t mt-auto",children:(0,t.jsx)(s.Button,{onClick:()=>I(!1),className:"w-full sm:w-auto",children:"关闭"})})]})}),(0,t.jsx)(i.Sheet,{open:k,onOpenChange:D,children:(0,t.jsxs)(i.SheetContent,{className:"sm:max-w-[500px] flex flex-col p-0 gap-0",children:[(0,t.jsxs)(i.SheetHeader,{className:"px-6 py-4 border-b",children:[(0,t.jsx)(i.SheetTitle,{children:"编辑租户"}),(0,t.jsx)(i.SheetDescription,{children:"修改租户信息"})]}),(0,t.jsx)(c.ScrollArea,{className:"flex-1",children:_&&(0,t.jsxs)("div",{className:"space-y-6 p-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(d.Label,{htmlFor:"editName",children:["租户名称 ",(0,t.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,t.jsx)(l.Input,{id:"editName",value:_.tenant.tenantName,onChange:e=>B({..._,tenant:{..._.tenant,tenantName:e.target.value}}),className:"bg-card border-border"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.Label,{htmlFor:"editStatus",children:"租户状态"}),(0,t.jsxs)(h.Select,{value:1===_.tenant.tenantStatus?"active":"suspended",onValueChange:e=>B({..._,tenant:{..._.tenant,tenantStatus:+("active"===e)}}),children:[(0,t.jsx)(h.SelectTrigger,{id:"editStatus",children:(0,t.jsx)(h.SelectValue,{})}),(0,t.jsxs)(h.SelectContent,{children:[(0,t.jsx)(h.SelectItem,{value:"active",children:"已激活"}),(0,t.jsx)(h.SelectItem,{value:"suspended",children:"已停用"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.Label,{htmlFor:"editDescription",children:"租户描述"}),(0,t.jsx)(u.Textarea,{id:"editDescription",value:_.tenant.description||"",onChange:e=>B({..._,tenant:{..._.tenant,description:e.target.value}}),className:"bg-card border-border min-h-[100px]",placeholder:"描述租户的用途"})]})]})}),(0,t.jsxs)(i.SheetFooter,{className:"px-6 py-4 border-t bg-muted/20 sm:justify-between",children:[(0,t.jsx)(s.Button,{variant:"outline",onClick:()=>D(!1),children:"取消"}),(0,t.jsx)(s.Button,{onClick:et,disabled:J,children:J?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"保存中..."]}):"保存更改"})]})]})})]})}e.s(["default",()=>E])}]);